<include target="___setting.html" />

<article class="bd" id="{$is_doc?'read':'list'}">

	<div cond="$XE_VALIDATOR_MESSAGE" id="xe_message" class="message {$XE_VALIDATOR_MESSAGE_TYPE}">
		<p>{$XE_VALIDATOR_MESSAGE}</p>
	</div>

	<section class="st">
		<h2 class="cb">
			<a href="{getUrl('','vid',$vid,'mid',$mid)}">{$mi->browser_title}</a>
			<a cond="$grant->write_document" href="{getUrl('act','dispBoardWrite','document_srl','')}" class="wt">{$lang->cmd_write}</a>
		</h2>

		<ul class="gn">
			{@ 
				$start = true;
				$depth = 0;
				$cts = &$category_list;
			}
			<!--@foreach($cts as $val)-->
			<block cond="$val->category_srl">
				<!--@if(!$start && $val->depth == $depth)-->
				</li>
				<!--@end-->
				<!--@if($val->depth > $depth)--> <!--more depth-->
				<ul>
				<!--@else-->
				<!--@while($val->depth < $depth)-->
				</li>
				</ul>
				{@ $depth -= 1}
				<!--@end-->
				<!--@endif-->
				<li><a href="{getUrl('','mid',$mid,'category_srl',$val->category_srl)}">{$val->title} <em>[{$val->document_count}]</em></a>
				{@ $start = false }
				{@ $depth = $val->depth }
			</block>
			<!--@endforeach-->
			<!--@while($depth > 0)-->
			</li>
			</ul>
			{@ $depth -= 1}
			<!--@end-->
			</li>
		</ul>

	</section>

</article>